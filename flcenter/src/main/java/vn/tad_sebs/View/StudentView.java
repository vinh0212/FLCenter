/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package vn.tad_sebs.View;

import com.toedter.calendar.JDateChooser;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.awt.event.ActionListener;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import javax.swing.JOptionPane;
import javax.swing.event.ListSelectionListener;
import javax.swing.table.DefaultTableModel;
import vn.tad_sebs.Model.Student;

/**
 *
 * @author ASUS
 */
public class StudentView extends javax.swing.JFrame {

    /**
     * Creates new form StudentView
     */
    public StudentView() {
        initComponents();
        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();
        setSize(screenSize.width, screenSize.height);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated
    // <editor-fold defaultstate="collapsed" desc="Generated
    // Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        btnGroup = new javax.swing.ButtonGroup();
        jScrollPane1 = new javax.swing.JScrollPane();
        Studenttable = new javax.swing.JTable();
        FIDSearchStudent = new javax.swing.JTextField();
        BtnDeleteStudent = new javax.swing.JButton();
        BtnEditStudent = new javax.swing.JButton();
        FNameSearchStudent = new javax.swing.JTextField();
        FAddressSearchStudent = new javax.swing.JTextField();
        BtnAddStudent = new javax.swing.JButton();
        CbbSeacrchStudent = new javax.swing.JComboBox<>();
        FSearchStudent = new javax.swing.JTextField();
        BtnSearchStudent = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        FScoreSearchStudent = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        BtnClearStudent = new javax.swing.JButton();
        btnSortbyid = new javax.swing.JButton();
        btnSortbyName = new javax.swing.JButton();
        btnSortbyDiem = new javax.swing.JButton();
        cbLop = new javax.swing.JComboBox<>();
        chkM = new javax.swing.JRadioButton();
        chkF = new javax.swing.JRadioButton();
        FDateSearchStudent = new com.toedter.calendar.JDateChooser();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Quản lý học viên");
        setExtendedState(6);
        setResizable(false);
        setSize(new java.awt.Dimension(1000, 800));

        Studenttable.setModel(new javax.swing.table.DefaultTableModel(
                new Object[][] {

                },
                new String[] {
                        "ID", "Họ và tên", "Ngày sinh", "Giới tính", "Quê quán", "Lớp", "Giáo viên chủ nhiệm", "Điểm"
                }) {
            Class[] types = new Class[] {
                    java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.String.class,
                    java.lang.String.class, java.lang.String.class, java.lang.String.class, java.lang.Float.class
            };
            boolean[] canEdit = new boolean[] {
                    false, false, false, false, false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types[columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit[columnIndex];
            }
        });
        Studenttable.setCursor(new java.awt.Cursor(java.awt.Cursor.DEFAULT_CURSOR));
        Studenttable.setShowGrid(false);
        Studenttable.setShowHorizontalLines(true);
        Studenttable.setUpdateSelectionOnSort(false);
        jScrollPane1.setViewportView(Studenttable);

        FIDSearchStudent.setEnabled(false);
        FIDSearchStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                FIDSearchStudentActionPerformed(evt);
            }
        });

        BtnDeleteStudent.setText("Xóa");
        BtnDeleteStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnDeleteStudentActionPerformed(evt);
            }
        });

        BtnEditStudent.setText("Chỉnh sửa");
        BtnEditStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnEditStudentActionPerformed(evt);
            }
        });

        FAddressSearchStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                FAddressSearchStudentActionPerformed(evt);
            }
        });

        BtnAddStudent.setText("Thêm");

        CbbSeacrchStudent.setModel(
                new javax.swing.DefaultComboBoxModel<>(new String[] { "ID", "Tên", "Lớp", "Quê quán", "Ngày sinh" }));

        BtnSearchStudent.setText("Tìm");
        BtnSearchStudent.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BtnSearchStudentActionPerformed(evt);
            }
        });

        jLabel2.setText("ID");

        jLabel4.setText("Ngày sinh");

        jLabel5.setText("Giới tính");

        jLabel6.setText("Quê quán");

        jLabel7.setText("Lớp");

        jLabel9.setText("Điểm");

        jLabel12.setText("Họ và tên");

        BtnClearStudent.setText("Clear");

        btnSortbyid.setLabel("Sort By ID");

        btnSortbyName.setLabel("Sort by Name");

        btnSortbyDiem.setLabel("Sắp xếp theo Điểm");

        btnGroup.add(chkM);
        chkM.setSelected(true);
        chkM.setText("Nam");

        btnGroup.add(chkF);
        chkF.setText("Nữ");
        chkF.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkFActionPerformed(evt);
            }
        });

        FDateSearchStudent.setDateFormatString("dd/MM/yyyy");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                                .addGap(54, 54, 54)
                                .addComponent(CbbSeacrchStudent, javax.swing.GroupLayout.PREFERRED_SIZE,
                                        javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(FSearchStudent, javax.swing.GroupLayout.PREFERRED_SIZE, 115,
                                        javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(BtnSearchStudent)
                                .addGap(0, 0, Short.MAX_VALUE))
                        .addGroup(layout.createSequentialGroup()
                                .addContainerGap()
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1069,
                                        javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                        .addGroup(layout.createSequentialGroup()
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addGroup(layout.createSequentialGroup()
                                                                .addGap(14, 14, 14)
                                                                .addGroup(layout.createParallelGroup(
                                                                        javax.swing.GroupLayout.Alignment.TRAILING)
                                                                        .addComponent(jLabel2,
                                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                                51,
                                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                                        .addGroup(layout.createParallelGroup(
                                                                                javax.swing.GroupLayout.Alignment.LEADING,
                                                                                false)
                                                                                .addComponent(jLabel9,
                                                                                        javax.swing.GroupLayout.Alignment.TRAILING,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        Short.MAX_VALUE)
                                                                                .addComponent(jLabel6,
                                                                                        javax.swing.GroupLayout.Alignment.TRAILING,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        Short.MAX_VALUE)
                                                                                .addComponent(jLabel5,
                                                                                        javax.swing.GroupLayout.Alignment.TRAILING,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        Short.MAX_VALUE)
                                                                                .addComponent(jLabel4,
                                                                                        javax.swing.GroupLayout.Alignment.TRAILING,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        Short.MAX_VALUE)
                                                                                .addComponent(jLabel12,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                                        Short.MAX_VALUE))))
                                                        .addGroup(layout.createSequentialGroup()
                                                                .addGap(18, 18, 18)
                                                                .addComponent(jLabel7,
                                                                        javax.swing.GroupLayout.PREFERRED_SIZE, 53,
                                                                        javax.swing.GroupLayout.PREFERRED_SIZE)))
                                                .addGap(77, 77, 77)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addGroup(layout.createSequentialGroup()
                                                                .addComponent(chkM)
                                                                .addPreferredGap(
                                                                        javax.swing.LayoutStyle.ComponentPlacement.RELATED,
                                                                        javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                        Short.MAX_VALUE)
                                                                .addComponent(chkF)
                                                                .addGap(35, 35, 35))
                                                        .addComponent(FAddressSearchStudent)
                                                        .addComponent(FScoreSearchStudent)
                                                        .addComponent(FIDSearchStudent)
                                                        .addComponent(FNameSearchStudent)
                                                        .addComponent(cbLop, 0, javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                Short.MAX_VALUE)
                                                        .addComponent(FDateSearchStudent,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                                        .addGroup(layout.createSequentialGroup()
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(BtnDeleteStudent, javax.swing.GroupLayout.PREFERRED_SIZE,
                                                        59, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(BtnAddStudent, javax.swing.GroupLayout.PREFERRED_SIZE, 72,
                                                        javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(BtnEditStudent)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 8,
                                                        Short.MAX_VALUE)
                                                .addComponent(BtnClearStudent)))
                                .addContainerGap())
                        .addGroup(layout.createSequentialGroup()
                                .addGap(45, 45, 45)
                                .addComponent(btnSortbyid)
                                .addGap(53, 53, 53)
                                .addComponent(btnSortbyName)
                                .addGap(66, 66, 66)
                                .addComponent(btnSortbyDiem)
                                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)));
        layout.setVerticalGroup(
                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                                .addGap(14, 14, 14)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(CbbSeacrchStudent, javax.swing.GroupLayout.PREFERRED_SIZE,
                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(FSearchStudent, javax.swing.GroupLayout.PREFERRED_SIZE,
                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(BtnSearchStudent))
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addGroup(layout.createSequentialGroup()
                                                .addGap(25, 25, 25)
                                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 621,
                                                        javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addGroup(layout.createSequentialGroup()
                                                .addGap(167, 167, 167)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                        .addComponent(FIDSearchStudent,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(jLabel2))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                        .addComponent(FNameSearchStudent,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE, 22,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(jLabel12))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                        .addComponent(jLabel4)
                                                        .addComponent(FDateSearchStudent,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE))
                                                .addGap(7, 7, 7)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                        .addComponent(jLabel5)
                                                        .addComponent(chkM)
                                                        .addComponent(chkF))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                        .addComponent(FAddressSearchStudent,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(jLabel6))
                                                .addGap(9, 9, 9)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                        .addComponent(cbLop, javax.swing.GroupLayout.PREFERRED_SIZE, 32,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(jLabel7))
                                                .addGap(18, 18, 18)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                                        .addComponent(FScoreSearchStudent,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE,
                                                                javax.swing.GroupLayout.DEFAULT_SIZE,
                                                                javax.swing.GroupLayout.PREFERRED_SIZE)
                                                        .addComponent(jLabel9))
                                                .addGap(18, 18, 18)
                                                .addGroup(layout
                                                        .createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                                        .addComponent(BtnAddStudent)
                                                        .addComponent(BtnEditStudent)
                                                        .addComponent(BtnDeleteStudent)
                                                        .addComponent(BtnClearStudent))))
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(btnSortbyid)
                                        .addComponent(btnSortbyName)
                                        .addComponent(btnSortbyDiem))
                                .addContainerGap(44, Short.MAX_VALUE)));
    }// </editor-fold>//GEN-END:initComponents

    private void BtnEditStudentActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_BtnEditStudentActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_BtnEditStudentActionPerformed

    private void BtnSearchStudentActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_BtnSearchStudentActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_BtnSearchStudentActionPerformed

    private void chkFActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_chkFActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_chkFActionPerformed

    private void FIDSearchStudentActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_FIDSearchStudentActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_FIDSearchStudentActionPerformed

    private void BtnDeleteStudentActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_BtnDeleteStudentActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_BtnDeleteStudentActionPerformed

    private void FAddressSearchStudentActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_FAddressSearchStudentActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_FAddressSearchStudentActionPerformed

    private void FTeacherSearchStudentActionPerformed(java.awt.event.ActionEvent evt) {// GEN-FIRST:event_FTeacherSearchStudentActionPerformed
        // TODO add your handling code here:
    }// GEN-LAST:event_FTeacherSearchStudentActionPerformed

    private String[] columnNames = new String[] {
            "ID", "Họ và tên ", "Ngày sinh", "Giới tính", "Quê quán", "Lớp", "Điểm" };

    public void showListStudents(List<Student> list) {
        int size = list.size();
        Object[][] students = new Object[size][7];
        for (int i = 0; i < size; i++) {
            students[i][0] = list.get(i).getId();
            students[i][1] = list.get(i).getName();
            students[i][2] = list.get(i).getDate();
            students[i][3] = list.get(i).getGioitinh();
            students[i][4] = list.get(i).getAddress();
            students[i][5] = list.get(i).getLop();
            students[i][6] = list.get(i).getDiem();
        }
        Studenttable.setModel(new DefaultTableModel(students, columnNames));
    }

    public void fillStudentFromSelectedRow() {
        // lấy chỉ số của hàng được chọn
        int row = Studenttable.getSelectedRow();
        if (row >= 0) {
            FIDSearchStudent.setText(Studenttable.getModel().getValueAt(row, 0).toString());
            FNameSearchStudent.setText(Studenttable.getModel().getValueAt(row, 1).toString());
            String dateString = Studenttable.getModel().getValueAt(row, 2).toString(); 
            // Chuỗi ngày tháng cần chuyển đổi
            JDateChooser dateChooser = new JDateChooser();

            // Định dạng của chuỗi ngày tháng
            SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");

            try {
                // Chuyển đổi chuỗi thành đối tượng Date
                Date date = dateFormat.parse(dateString);

                // Thiết lập ngày cho JDateChooser
                FDateSearchStudent.setDate(date);
            } catch (ParseException e) {
                e.printStackTrace();
            }
            if ("Nam".equals(Studenttable.getModel().getValueAt(row, 3).toString())) {
                chkM.setSelected(true);
            } else
                chkF.setSelected(true);
            FAddressSearchStudent.setText(Studenttable.getModel().getValueAt(row, 4).toString());
            int index = Integer.parseInt(Studenttable.getModel().getValueAt(row, 5).toString());
            if (index == 0)
                cbLop.setSelectedIndex(0);
            else {
                cbLop.setSelectedIndex(0);
                for (int i = 0; i < cbLop.getItemCount(); i++) {
                    String item = cbLop.getItemAt(i).toString();
                    int itemId = Integer.parseInt(item.split(" - ")[0]);
                    if (itemId == index) {
                        cbLop.setSelectedIndex(i);
                        break;
                    }
                }
            }

            FScoreSearchStudent.setText(Studenttable.getModel().getValueAt(row, 6).toString());
            // enable Edit and Delete buttons
            BtnEditStudent.setEnabled(true);
            BtnDeleteStudent.setEnabled(true);
            // disable Add button
            BtnAddStudent.setEnabled(false);
        }
    }

    public void showStudent(Student student) {
        FIDSearchStudent.setText(String.valueOf(student.getId()));
        FNameSearchStudent.setText(student.getName());

        String dateString = student.getDate();
        SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");

        try {
            // Chuyển đổi chuỗi thành đối tượng Date
            Date date = dateFormat.parse(dateString);

            // Thiết lập ngày cho JDateChooser
            FDateSearchStudent.setDate(date);
        } catch (ParseException e) {
            e.printStackTrace();
        }

        if (student.getGioitinh() == "Nam") {
            chkM.setSelected(true);
        } else
            chkF.setSelected(true);
        FAddressSearchStudent.setText(student.getAddress());
        int index = Integer.parseInt(student.getLop());
        if (index == 0)
            cbLop.setSelectedIndex(0);
        else {
            cbLop.setSelectedIndex(0);
            for (int i = 0; i < cbLop.getItemCount(); i++) {
                String item = cbLop.getItemAt(i).toString();
                int itemId = Integer.parseInt(item.split(" - ")[0]);
                if (itemId == index) {
                    cbLop.setSelectedIndex(i);
                    break;
                }
            }
        }

        FScoreSearchStudent.setText(String.valueOf(student.getDiem()));
        // enable Delete and edit button
        BtnEditStudent.setEnabled(true);
        BtnDeleteStudent.setEnabled(true);
        // disable Add button
        BtnAddStudent.setEnabled(false);
    }

    public void clearStudentInfo() {
        FIDSearchStudent.setText("");
        FNameSearchStudent.setText("");
        String dateString = "01/01/2024"; // Chuỗi ngày tháng cần chuyển đổi
        JDateChooser dateChooser = new JDateChooser();

        // Định dạng của chuỗi ngày tháng
        SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");

        try {
            // Chuyển đổi chuỗi thành đối tượng Date
            Date date = dateFormat.parse(dateString);

            // Thiết lập ngày cho JDateChooser
            FDateSearchStudent.setDate(date);
        } catch (ParseException e) {
            e.printStackTrace();
        }
        chkM.setSelected(true);
        FAddressSearchStudent.setText("");
        cbLop.setSelectedIndex(0);

        FScoreSearchStudent.setText("");
        // disable Edit and Delete buttons
        BtnEditStudent.setEnabled(false);
        BtnDeleteStudent.setEnabled(false);
        // enable Add button
        BtnAddStudent.setEnabled(true);
    }

    public void addAddStudentListener(ActionListener listener) {
        BtnAddStudent.addActionListener(listener);
    }

    public void addEditStudentListener(ActionListener listener) {
        BtnEditStudent.addActionListener(listener);
    }

    public void addDeleteStudentListener(ActionListener listener) {
        BtnDeleteStudent.addActionListener(listener);
    }

    public void addClearListener(ActionListener listener) {
        BtnClearStudent.addActionListener(listener);
    }

    public void addListStudentSelectionListener(ListSelectionListener listener) {
        Studenttable.getSelectionModel().addListSelectionListener(listener);
    }

    public void addSearchStudentListener(ActionListener listener) {
        BtnSearchStudent.addActionListener(listener);
    }

    public void addSortStudentByIDListener(ActionListener listener) {
        btnSortbyid.addActionListener(listener);
    }

    public void addSortStudentByNameListener(ActionListener listener) {
        btnSortbyName.addActionListener(listener);
    }

    public void addSortStudentByDiemListener(ActionListener listener) {
        btnSortbyDiem.addActionListener(listener);
    }

    public void showListLop(ArrayList<String> list) {
        for (String item : list) {
            cbLop.addItem(item);
        }
    }

    public String getSelectedText() {
        return CbbSeacrchStudent.getSelectedItem().toString();
    }

    public String getSearchBox() {
        return FSearchStudent.getText().trim();
    }

    public void showMessage(String message) {
        JOptionPane.showMessageDialog(this, message);
    }

    public Student getStudentInfo() {
        try {

            Student student = new Student();
            if (FIDSearchStudent.getText() != null && !"".equals(FIDSearchStudent.getText())) {
                student.setId(Integer.parseInt(FIDSearchStudent.getText()));
            }

            student.setName(FNameSearchStudent.getText());
            
            SimpleDateFormat dateFormat = new SimpleDateFormat("dd/MM/yyyy");
            student.setDate(dateFormat.format(FDateSearchStudent.getDate()));

            if(chkM.isSelected() == true)
                student.setGioitinh("Nam");
            else
                student.setGioitinh("Nữ");
            
            student.setAddress(FAddressSearchStudent.getText());
            student.setLop(cbLop.getSelectedItem().toString().split(" - ")[0]);

            student.setDiem(Float.parseFloat(FScoreSearchStudent.getText()));
            return student;
        } catch (Exception ex) {
            ex.printStackTrace();
        }
        return null;

    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BtnAddStudent;
    private javax.swing.JButton BtnClearStudent;
    private javax.swing.JButton BtnDeleteStudent;
    private javax.swing.JButton BtnEditStudent;
    private javax.swing.JButton BtnSearchStudent;
    private javax.swing.JComboBox<String> CbbSeacrchStudent;
    private javax.swing.JTextField FAddressSearchStudent;
    private com.toedter.calendar.JDateChooser FDateSearchStudent;
    private javax.swing.JTextField FIDSearchStudent;
    private javax.swing.JTextField FNameSearchStudent;
    private javax.swing.JTextField FScoreSearchStudent;
    private javax.swing.JTextField FSearchStudent;
    private javax.swing.JTable Studenttable;
    private javax.swing.ButtonGroup btnGroup;
    private javax.swing.JButton btnSortbyDiem;
    private javax.swing.JButton btnSortbyName;
    private javax.swing.JButton btnSortbyid;
    private javax.swing.JComboBox<String> cbLop;
    private javax.swing.JRadioButton chkF;
    private javax.swing.JRadioButton chkM;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    // End of variables declaration//GEN-END:variables
}
